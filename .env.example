# ============================================
# VoiceVault - Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# --- LLM Provider ---
# Options: "claude" or "ollama"
LLM_PROVIDER=ollama

# --- Claude API (if LLM_PROVIDER=claude) ---
CLAUDE_API_KEY=
CLAUDE_MODEL=claude-sonnet-4-20250514

# --- Ollama (if LLM_PROVIDER=ollama) ---
# For Docker: docker-compose.yml overrides this to http://ollama:11434 automatically
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2

# --- Whisper STT ---
# Options: "local" or "api"
WHISPER_PROVIDER=local
# Whisper model: base, small, medium, large-v3, turbo
WHISPER_MODEL=base
# OpenAI API key (only if WHISPER_PROVIDER=api)
WHISPER_API_KEY=
# Default transcription language (empty = auto-detect; "ko", "en", "ja", etc.)
WHISPER_DEFAULT_LANGUAGE=

# --- RAG & Embeddings ---
# Embedding provider: "local" (sentence-transformers) or "ollama"
EMBEDDING_PROVIDER=local
# sentence-transformers model (if EMBEDDING_PROVIDER=local)
EMBEDDING_MODEL=all-MiniLM-L6-v2
# Ollama embedding model (if EMBEDDING_PROVIDER=ollama)
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
# ChromaDB persistent storage path
CHROMA_PERSIST_DIR=data/chroma_db
# RAG search settings
RAG_TOP_K=5
RAG_MIN_SIMILARITY=0.3

# --- Obsidian Export ---
# Optional: direct export path to your Obsidian vault
OBSIDIAN_VAULT_PATH=
# Subfolder within vault for VoiceVault exports
OBSIDIAN_EXPORT_FOLDER=VoiceVault
# Include YAML frontmatter in exports
OBSIDIAN_FRONTMATTER=true
# Use [[wikilinks]] for related notes
OBSIDIAN_WIKILINKS=true

# --- Application ---
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=INFO

# --- WebSocket Authentication ---
# Enable token-based auth for /ws/transcribe (recommended for non-localhost deployments)
WS_AUTH_ENABLED=false
# Token for WebSocket auth (generate with: python -c "import secrets; print(secrets.token_urlsafe(32))")
WS_AUTH_TOKEN=

# --- CORS ---
# Comma-separated list of allowed origins (for Docker/remote deployments)
CORS_ORIGINS=["http://localhost:8501","http://localhost:3000"]

# --- Storage ---
DATABASE_URL=sqlite:///data/voicevault.db
RECORDINGS_DIR=data/recordings
EXPORTS_DIR=data/exports

# --- Frontend (Next.js) ---
# These are also in frontend/.env.local for local dev.
# In Docker, they are set as build args in docker-compose.yml.
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8000
